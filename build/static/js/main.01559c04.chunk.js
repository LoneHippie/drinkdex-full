(this.webpackJsonpfront_end=this.webpackJsonpfront_end||[]).push([[0],[,,,,,,,,,function(e,t,n){},,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(10),r=n.n(c),i=n(3),s=n.n(i),o=n(4),l=n(2),u=(n(16),n(17),n(0)),d=function(){return Object(u.jsxs)("div",{className:"loading",children:[Object(u.jsxs)("div",{className:"sign-container",children:[Object(u.jsx)("span",{className:"sign-container--text",children:"Welcome Back"}),Object(u.jsx)("div",{children:Object(u.jsx)("img",{className:"sign-container--image",src:"images/icons/shaker.svg",alt:"cocktail shaker vector"})})]}),Object(u.jsx)("div",{className:"loader",children:"Loading"})]})},j=(n(9),function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),i=Object(l.a)(r,2),d=i[0],j=i[1],m=Object(a.useState)(""),h=Object(l.a)(m,2),b=h[0],p=h[1];function f(){return(f=Object(o.a)(s.a.mark((function e(t){var a,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,fetch("api/v1/users/login",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify({email:n,password:d})});case 4:return a=e.sent,e.next=7,a.json();case 7:if("fail"!==(c=e.sent).status){e.next=12;break}return e.abrupt("return",p("*".concat(c.message)));case 12:p("Login successful!");case 13:window.location.reload(),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})))).apply(this,arguments)}return Object(u.jsxs)("form",{id:"authenticate-login",className:"authenticate__form",onSubmit:function(e){return function(e){return f.apply(this,arguments)}(e)},children:[Object(u.jsx)("h3",{className:"authenticate--title",children:"Welcome"}),Object(u.jsx)("span",{className:"authenticate--message"}),Object(u.jsx)("input",{required:!0,className:"authenticate__form--input",type:"email",id:"authenticate-email",value:n,onChange:function(e){return function(e){c(e.target.value)}(e)},placeholder:"Your Email"}),Object(u.jsx)("label",{className:"authenticate__form--label",htmlFor:"authenticate-email",children:"Email"}),Object(u.jsx)("input",{className:"authenticate__form--input",type:"password",id:"authenticate-password",value:d,minLength:"8",onChange:function(e){return function(e){j(e.target.value)}(e)},placeholder:"Your Password"}),Object(u.jsx)("label",{className:"authenticate__form--label",htmlFor:"authenticate-password",children:"Password"}),Object(u.jsx)("input",{className:"authenticate__form--btn",type:"submit",value:"Log in"}),Object(u.jsx)("span",{className:"authenticate--message",children:b})]})}),m=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),i=Object(l.a)(r,2),d=i[0],j=i[1],m=Object(a.useState)(""),h=Object(l.a)(m,2),b=h[0],p=h[1],f=Object(a.useState)(""),g=Object(l.a)(f,2),O=g[0],v=g[1],x=Object(a.useState)(""),k=Object(l.a)(x,2),y=k[0],N=k[1];function _(){return(_=Object(o.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,b===O){e.next=4;break}return e.abrupt("return",N("*Password does not match confirmation"));case 4:return e.next=7,fetch("api/v1/users/signup",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify({username:n,email:d,password:b,passwordConfirm:O})});case 7:return a=e.sent,e.next=10,a.json();case 10:if("error"!==e.sent.status){e.next=16;break}return console.log("Sign up failed, please check info"),e.abrupt("return");case 16:N("Sign up successful!");case 17:window.location.reload(),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(1),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[1,20]])})))).apply(this,arguments)}return Object(u.jsxs)("form",{id:"authenticate-signup",className:"authenticate__form",onSubmit:function(e){return function(e){return _.apply(this,arguments)}(e)},children:[Object(u.jsx)("h3",{className:"authenticate--title",children:"Get Started"}),Object(u.jsx)("input",{required:!0,className:"authenticate__form--input",type:"text",id:"authenticate-name",value:n,minLength:"2",maxLength:"16",onChange:function(e){return function(e){c(e.target.value)}(e)},placeholder:"Pick a name"}),Object(u.jsx)("label",{className:"authenticate__form--label",htmlFor:"authenticate-email",children:"Username"}),Object(u.jsx)("input",{required:!0,className:"authenticate__form--input",type:"email",id:"authenticate-email",value:d,onChange:function(e){return function(e){j(e.target.value)}(e)},placeholder:"Your Email"}),Object(u.jsx)("label",{className:"authenticate__form--label",htmlFor:"authenticate-email",children:"Email"}),Object(u.jsx)("input",{required:!0,className:"authenticate__form--input",type:"password",id:"authenticate-password",value:b,minLength:"8",onChange:function(e){return function(e){p(e.target.value)}(e)},placeholder:"Your Password"}),Object(u.jsx)("label",{className:"authenticate__form--label",htmlFor:"authenticate-password",children:"Password"}),Object(u.jsx)("input",{required:!0,className:"authenticate__form--input",type:"password",id:"authenticate-password-confirm",value:O,minLength:"8",onChange:function(e){return function(e){v(e.target.value)}(e)},placeholder:"Confirm Your Password"}),Object(u.jsx)("label",{className:"authenticate__form--label",htmlFor:"authenticate-password",children:"Confirm Password"}),Object(u.jsx)("input",{className:"authenticate__form--btn",type:"submit",value:"Sign Up"}),Object(u.jsx)("span",{className:"authenticate--message",children:y})]})},h=function(e){var t=e.closeAuthenticate,n=Object(a.useState)(!1),c=Object(l.a)(n,2),r=c[0],i=c[1];return Object(u.jsxs)("div",{className:"authenticate",id:"authenticate-form",style:{height:r?"87.5%":"75%"},children:[Object(u.jsxs)("div",{className:"switch",children:[Object(u.jsx)("input",{type:"checkbox",id:"switch",onClick:function(e){return function(e){i(e.target.checked)}(e)}}),Object(u.jsx)("label",{className:"switch-label",htmlFor:"switch",children:"Login"}),Object(u.jsx)("span",{className:"switch-title",children:r?"Login":"Sign Up"})]}),Object(u.jsx)("span",{className:"authenticate--close",onClick:function(){return t()},children:"X"}),r?Object(u.jsx)(m,{}):Object(u.jsx)(j,{})]})},b=(n(19),function(e){var t=e.user,n=e.drinks,c=Object(a.useState)(void 0),r=Object(l.a)(c,2),i=r[0],d=r[1];Object(a.useEffect)((function(){var e=n.filter((function(e){if(void 0!==e.createdBy&&e.createdBy[1]===t._id)return e}));d(e)}),[n,t._id]);var j=Object(a.useState)(void 0),m=Object(l.a)(j,2),h=m[0],b=m[1],p=Object(a.useState)(""),f=Object(l.a)(p,2),g=f[0],O=f[1],v=Object(a.useState)(""),x=Object(l.a)(v,2),k=x[0],y=x[1],N=Object(a.useState)(""),_=Object(l.a)(N,2),w=_[0],C=_[1],S=Object(a.useState)(""),E=Object(l.a)(S,2),F=E[0],B=E[1],I=Object(a.useState)(""),D=Object(l.a)(I,2),L=D[0],P=D[1];function q(){O(""),y(""),C(""),B(""),P("")}function A(e){q(),b(e.target.id)}function U(){q(),b(void 0)}function T(e){return R.apply(this,arguments)}function R(){return(R=Object(o.a)(s.a.mark((function e(t){var n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),e.t0=!0,e.next=e.t0===("name"===h)?4:e.t0===("email"===h)?6:e.t0===("password"===h)?8:10;break;case 4:return n={username:g},e.abrupt("break",11);case 6:return n={email:k},e.abrupt("break",11);case 8:return n={passwordCurrent:w,password:F,passwordConfirm:L},e.abrupt("break",11);case 10:console.log("No active forms found");case 11:if(e.prev=12,"password"===h){e.next=19;break}return e.next=16,fetch("api/v1/users/updateMe",{method:"PATCH",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 16:a=e.sent,e.next=22;break;case 19:return e.next=21,fetch("api/v1/users/updateMyPassword",{method:"PATCH",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)});case 21:a=e.sent;case 22:if(!a.ok){e.next=28;break}console.log("User updated!"),window.location.reload(),e.next=32;break;case 28:return e.next=30,a.json();case 30:e.sent.message.includes("is incorrect")?document.getElementById("auth-message").textContent="Current password is incorrect":document.getElementById("auth-message").textContent="Something went wrong, please try again";case 32:e.next=37;break;case 34:e.prev=34,e.t1=e.catch(12),console.log("oops");case 37:case"end":return e.stop()}}),e,null,[[12,34]])})))).apply(this,arguments)}function J(){return(J=Object(o.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/users/logout",{method:"post"});case 3:e.sent,window.location.reload(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(u.jsxs)("div",{className:"menu",id:"menu",children:[Object(u.jsxs)("section",{className:"menu-overview",children:[Object(u.jsx)("div",{className:"menu-overview__header",children:Object(u.jsx)("h3",{children:"My Profile"})}),Object(u.jsxs)("div",{className:"menu-overview__stats",children:[Object(u.jsxs)("div",{className:"menu-overview__stats--saved",children:[Object(u.jsx)("span",{children:"Saved Drinks: ".concat(t.savedDrinks.length)}),Object(u.jsx)("i",{})]}),Object(u.jsxs)("div",{className:"menu-overview__stats--created",children:[Object(u.jsx)("span",{children:"Created Drinks: ".concat(i?i.length:"---")}),Object(u.jsx)("i",{})]})]})]}),Object(u.jsxs)("section",{className:"menu-profile",children:[Object(u.jsxs)("div",{className:"menu-profile--field",children:[Object(u.jsx)("h4",{children:"Username"}),"name"===h?Object(u.jsxs)("form",{onSubmit:function(e){return T(e)},children:[Object(u.jsx)("span",{className:"cancel",onClick:function(){return U()},children:"X"}),Object(u.jsx)("input",{id:"input-name",placeholder:t.username,type:"text",onChange:function(e){return function(e){O(e.target.value)}(e)},value:g,minLength:"2",required:!0}),Object(u.jsx)("label",{htmlFor:"input-name",children:"New Username"}),Object(u.jsx)("button",{type:"submit",children:"Change Name"}),Object(u.jsx)("div",{id:"auth-message"})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("span",{children:t.username}),Object(u.jsx)("button",{id:"name",onClick:function(e){return A(e)},children:"Change Name"})]})]}),Object(u.jsxs)("div",{className:"menu-profile--field",children:[Object(u.jsx)("h4",{children:"Email"}),"email"===h?Object(u.jsxs)("form",{onSubmit:function(e){return T(e)},children:[Object(u.jsx)("span",{className:"cancel",onClick:function(){return U()},children:"X"}),Object(u.jsx)("input",{id:"input-email",placeholder:t.email,type:"email",onChange:function(e){return function(e){y(e.target.value)}(e)},value:k,minLength:"2",required:!0}),Object(u.jsx)("label",{htmlFor:"input-name",children:"New email address"}),Object(u.jsx)("button",{type:"submit",children:"Change Email"}),Object(u.jsx)("div",{id:"auth-message"})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("span",{children:t.email}),Object(u.jsx)("button",{id:"email",onClick:function(e){return A(e)},children:"Change Email"})]})]}),Object(u.jsxs)("div",{className:"menu-profile--field",children:[Object(u.jsx)("h4",{children:"Password"}),"password"===h?Object(u.jsxs)("form",{onSubmit:function(e){return T(e)},children:[Object(u.jsx)("span",{className:"cancel",onClick:function(){return U()},children:"X"}),Object(u.jsx)("input",{id:"input-password-current",placeholder:"current password",type:"password",onChange:function(e){return function(e){C(e.target.value)}(e)},value:w,minLength:"8",required:!0}),Object(u.jsx)("label",{htmlFor:"input-name",children:"Password Verification"}),Object(u.jsx)("input",{id:"input-password-new",placeholder:"choose a password",type:"password",onChange:function(e){return function(e){B(e.target.value)}(e)},value:F,minLength:"8",required:!0}),Object(u.jsx)("label",{htmlFor:"input-name",children:"New Password"}),Object(u.jsx)("input",{id:"input-password-new-confirm",placeholder:"confirm new password",type:"password",onChange:function(e){return function(e){P(e.target.value)}(e)},value:L,minLength:"8",required:!0}),Object(u.jsx)("label",{htmlFor:"input-name",children:"Password Confirmation"}),Object(u.jsx)("button",{type:"submit",children:"Change Password"}),Object(u.jsx)("div",{id:"auth-message"})]}):Object(u.jsx)("button",{id:"password",onClick:function(e){return A(e)},children:"Change Password"})]})]}),Object(u.jsx)("section",{className:"menu-auth",children:Object(u.jsx)("button",{onClick:function(){return function(){return J.apply(this,arguments)}()},children:"Log out"})})]})});var p=function(){return Object(u.jsx)("div",{})},f=(n(20),function(e){var t=e.user,n=e.loggedStatus,c=e.backHome,r=e.drinks,i=Object(a.useState)(!1),s=Object(l.a)(i,2),o=s[0],d=s[1];function j(){document.getElementById("authenticate-form").style.display="none",document.getElementById("authenticate-form-blur").style.display="none",document.getElementById("nav").style.display="flex"}return Object(u.jsxs)("header",{className:"header",id:"header",children:[Object(u.jsx)("div",{className:"header__title-container",children:Object(u.jsx)("h1",{className:"header__title-container--title",onClick:function(){return c()},children:"Drinkdex"})}),n?o?Object(u.jsxs)("div",{className:"header__profile",children:[Object(u.jsx)("img",{className:"header__profile--close",id:"nav-close",onClick:function(){return d(!1),document.getElementById("header").classList.remove("menu-active"),void(document.getElementById("menu").style.display="none")},src:"images/icons/cancel.svg",alt:"close profile options"}),Object(u.jsx)("label",{className:"header__profile--label",htmlFor:"nav-close",children:"Close"})]}):Object(u.jsxs)("div",{className:"header__profile",children:[Object(u.jsx)("img",{className:"header__profile--btn",id:"nav-login",onClick:function(){return d(!0),document.getElementById("header").classList.add("menu-active"),void(document.getElementById("menu").style.display="block")},src:"images/icons/user.svg",alt:"user profile options"}),Object(u.jsx)("label",{className:"header__profile--label",htmlFor:"nav-login",children:"My Profile"})]}):Object(u.jsxs)("div",{className:"header__profile",children:[Object(u.jsx)("img",{className:"header__profile--guest",id:"nav-login",onClick:function(){return document.getElementById("authenticate-form").style.display="block",document.getElementById("authenticate-form-blur").style.display="block",void(document.getElementById("nav").style.display="none")},src:"images/icons/question.svg",alt:"guest profile icon"}),Object(u.jsx)("label",{className:"header__profile--label",htmlFor:"nav-login",children:"Login"})]}),Object(u.jsx)(h,{closeAuthenticate:j}),n?Object(u.jsx)(b,{user:t,drinks:r}):Object(u.jsx)(p,{}),Object(u.jsx)("div",{className:"authenticate-form-blur",id:"authenticate-form-blur",onClick:function(){return j()}})]})}),g=function(e){var t=e.drink,n=e.user,c=e.className,r=e.refreshUser,i=e.isAuthor,d=Object(a.useState)(!1),j=Object(l.a)(d,2),m=j[0],h=j[1];function b(e){return p.apply(this,arguments)}function p(){return(p=Object(o.a)(s.a.mark((function e(n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.target.style.pointerEvents="none",a=m?"removeDrink":"addDrink";try{setTimeout((function(){fetch("/api/v1/users/".concat(a,"/").concat(t),{method:"PATCH"}).then((function(e){return e.ok&&!m&&r(),e.ok&&m&&r(),setTimeout((function(){n.target.style.pointerEvents="auto"}),500),e}))}),100)}catch(c){console.log("An error occurred")}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){h(void 0!==n&&void 0!==t&&null!==t&&n.savedDrinks.some((function(e){return(null===e||void 0===e?void 0:e.id)===t})))}),[n,t]);return Object(u.jsx)(u.Fragment,{children:void 0===n?Object(u.jsx)("img",{className:"".concat(c,"--btn-save inactive"),src:"images/icons/heart-disabled.svg",alt:"save drink button"}):i?Object(u.jsx)("img",{className:"".concat(c,"--btn-save author"),src:"images/icons/signature.svg",alt:"creator of drink icon"}):m?Object(u.jsx)("img",{className:"".concat(c,"--btn-save favorited"),onClick:function(e){return b(e)},src:"images/icons/heart-full.svg",alt:"save drink button"}):Object(u.jsx)("img",{className:"".concat(c,"--btn-save active"),onClick:function(e){return b(e)},src:"images/icons/heart-empty.svg",alt:"save drink button"})})},O=(n(21),function(e){var t=e.user,n=e.randomDrink,a=e.id,c=e.openFull,r=e.refreshUser;return Object(u.jsxs)("article",{className:"largecard",id:"card-".concat(a),children:[Object(u.jsxs)("section",{className:"largecard__display",children:[Object(u.jsx)("h3",{className:"largecard__display--title",children:n?n.name:"Fetching Drink"}),Object(u.jsx)("img",{className:"largcard__display--image",src:n&&void 0!==(null===n||void 0===n?void 0:n.coverImage)?"".concat(n.coverImage):"https://media.istockphoto.com/vectors/alcohol-cocktail-drink-vector-neon-icon-food-blue-neon-illustration-vector-id1215989223?k=6&m=1215989223&s=170667a&w=0&h=wORytj0B6AzIiEDvf-5lCwTqw_i_3J6ASZPP9LkfE6s=",alt:"large drink background",style:{width:"100%",height:"100%"}})]}),Object(u.jsxs)("section",{className:"largecard__info",children:[Object(u.jsx)("span",{className:"largecard__info--summary",children:n?n.description:"We're coming as fast as we can to brink you a drink! If we take to long, please refresh us!"}),Object(u.jsxs)("div",{className:"largecard__info__actions",children:[Object(u.jsx)("span",{className:"largecard__info__actions--more",onClick:function(){return c(a)},children:"More"}),n?Object(u.jsx)(g,{drink:a,user:t,className:"largecard__info__actions",refreshUser:r,isAuthor:void 0!==n.createdBy&&void 0!==t&&n.createdBy[1]===t._id}):Object(u.jsx)(p,{})]})]})]})}),v=n(5),x=(n(22),function(e){var t=e.drink,n=e.id,c=e.user,r=e.closeFull,i=e.refreshUser,d=function(){return void 0!==(null===t||void 0===t?void 0:t.createdBy)&&(void 0!==c&&t.createdBy[1]===(null===c||void 0===c?void 0:c._id))},j=Object(a.useState)(!1),m=Object(l.a)(j,2),h=m[0],b=m[1];function f(){b(!1)}function O(){return(O=Object(o.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault();try{void 0!==(null===t||void 0===t?void 0:t.imageId)&&fetch("api/v1/images/".concat(t.imageId),{method:"DELETE"}),fetch("api/v1/drinks/".concat(n),{method:"DELETE"}).then((function(){window.location.reload()}))}catch(c){console.log("ERROR")}case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(u.jsxs)("div",{className:"cardfull",id:"card-".concat(n,"-full"),children:[Object(u.jsxs)("section",{className:"cardfull__header",children:[Object(u.jsx)("h3",{className:"cardfull__header--name",children:void 0!==t?t.name:"Drink name"}),Object(u.jsx)("span",{className:"cardfull__header--close",onClick:function(){return r(n)},children:"X"})]}),Object(u.jsxs)("section",{className:"card-body",children:[Object(u.jsxs)("div",{className:"card-body__display",children:[t&&void 0!==(null===t||void 0===t?void 0:t.coverImage)?Object(u.jsx)("img",{className:"card-image",src:t.coverImage,alt:"cocktail"}):Object(u.jsx)("img",{className:"card-image",src:"https://media.istockphoto.com/vectors/alcohol-cocktail-drink-vector-neon-icon-food-blue-neon-illustration-vector-id1215989223?k=6&m=1215989223&s=170667a&w=0&h=wORytj0B6AzIiEDvf-5lCwTqw_i_3J6ASZPP9LkfE6s=",alt:"cocktail placeholder"}),Object(u.jsx)("span",{className:"card-body--author",children:void 0!==t&&void 0!==t.createdBy[0]?"By ".concat(t.createdBy[0]):""}),Object(u.jsx)("div",{className:"card-tag-container",children:function(){if(void 0!==t){var e=t.categories.map((function(e){return e})),n=t.spirits.map((function(e){return e}));return[].concat(Object(v.a)(e),Object(v.a)(n)).map((function(e,t){return Object(u.jsx)("span",{className:"card-tag-container--tag",children:e},"drink-".concat(t,"-tag"))}))}return Object(u.jsx)(p,{})}()}),d()?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("button",{className:"card-body--delete",onClick:function(){b(!0)},children:"Delete Drink"})}):Object(u.jsx)(g,{drink:n,user:c,className:"card-save",refreshUser:i,isAuthor:d()}),h?Object(u.jsx)("div",{className:"card-body--delete-confirmation",onClick:function(){return f()},children:Object(u.jsxs)("div",{className:"card-body--delete-confirmation--center",children:[Object(u.jsx)("span",{children:"Are you sure?"}),Object(u.jsxs)("div",{className:"card-body--delete-confirmation--center-buttons",children:[Object(u.jsx)("button",{className:"card-body--delete-confirmation--confirm",onClick:function(e){return function(e){return O.apply(this,arguments)}(e)},children:"Delete"}),Object(u.jsx)("button",{className:"card-body--delete-confirmation--cancel",onClick:function(){return f()},children:"Cancel"})]})]})}):Object(u.jsx)(u.Fragment,{})]}),Object(u.jsxs)("div",{className:"card-body__info",children:[Object(u.jsx)("h4",{className:"card-summary--title",children:"Summary"}),Object(u.jsx)("div",{className:"card-summary-container",children:Object(u.jsx)("p",{className:"card-summary-container--summary",children:t?t.description:"Your drink is on the way"})}),Object(u.jsx)("h4",{className:"card-ingredients--title",children:"Ingredients"}),Object(u.jsx)("div",{className:"card-ingredients-container",children:Object(u.jsx)("ul",{className:"card-ingredients-container__list",children:void 0!==t?t.ingredients.map((function(e,t){return Object(u.jsx)("li",{children:e},"drink-".concat(t,"-ingredient"))})):Object(u.jsx)(p,{})})}),Object(u.jsx)("h4",{className:"card-instructions--title",children:"Instructions"}),Object(u.jsx)("div",{className:"card-instructions-container",children:Object(u.jsx)("ul",{className:"card-instructions-container__list",children:void 0!==t?t.instructions.map((function(e,t){return Object(u.jsx)("li",{children:e},"drink-".concat(t,"-instruction"))})):Object(u.jsx)(p,{})})})]})]})]})}),k=(n(23),function(e){var t=e.drink,n=e.id,a=e.user,c=e.loggedStatus,r=e.imageFallback,i=e.openFull;return Object(u.jsxs)("div",{className:"card__mini",id:"card-".concat(n,"-mini"),onClick:function(){return i(n)},children:[Object(u.jsx)("img",{className:"card__mini--image",src:void 0===t.coverImage?r:t.coverImage,alt:"minified card background"}),Object(u.jsx)("span",{className:"card__mini--name",children:t.name}),Object(u.jsx)(g,{drink:n,user:a,className:"card__mini",loggedStatus:c,isAuthor:void 0!==t.createdBy&&void 0!==a&&t.createdBy[1]===a._id})]},"cardmini-".concat(n))}),y=(n(24),function(e){var t=e.drinkResults,n=e.user,a=e.refreshUser,c=e.gridName,r="https://media.istockphoto.com/vectors/alcohol-cocktail-drink-vector-neon-icon-food-blue-neon-illustration-vector-id1215989223?k=6&m=1215989223&s=170667a&w=0&h=wORytj0B6AzIiEDvf-5lCwTqw_i_3J6ASZPP9LkfE6s=";function i(e){document.getElementById("card-".concat(e,"-full")).style.display="block"}function s(e){document.getElementById("card-".concat(e,"-full")).style.display="none"}var o=t.map((function(e,t){return Object(u.jsxs)("article",{className:"card",children:[Object(u.jsx)(k,{id:e.id,drink:e,user:n,imageFallback:r,openFull:i}),Object(u.jsx)(x,{id:e.id,drink:e,user:n,imageFallback:r,closeFull:s,refreshUser:a})]},"card-".concat(e.id))}));return Object(u.jsx)("section",{className:c,children:o})}),N=(n(25),function(e){var t=e.user,n=e.drinks,c=e.randomDrink,r=e.refreshUser,i=Object(a.useState)(void 0),s=Object(l.a)(i,2),o=s[0],d=s[1];Object(a.useEffect)((function(){if(t&&n){var e=n.filter((function(e){if(void 0!==e.createdBy&&e.createdBy[1]===t._id)return e}));d(e)}}),[n,t]);var j=function(){return void 0===c?"random":c.id};return Object(u.jsxs)("div",{className:"home-container",children:[Object(u.jsx)("h2",{className:"home-container--title",children:"Random Drink"}),Object(u.jsx)(O,{randomDrink:c,id:j(),user:t,openFull:function(e){document.getElementById("card-".concat(e,"-full")).style.display="block"},refreshUser:r}),Object(u.jsx)(x,{drink:c,id:j(),user:t,closeFull:function(e){document.getElementById("card-".concat(e,"-full")).style.display="none"},refreshUser:r}),t?t?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h3",{className:"home-container--title",children:"Saved Drinks"}),0===t.savedDrinks.length||null===t.savedDrinks[0]?Object(u.jsx)("p",{className:"home-container--flavor",children:"*You currently have no drinks saved"}):Object(u.jsx)(y,{drinkResults:t.savedDrinks,user:t,refreshUser:r,gridName:"user-grid"}),Object(u.jsx)("h3",{className:"home-container--title",children:"Created Drinks"}),void 0===o||0===(null===o||void 0===o?void 0:o.length)?Object(u.jsx)("p",{className:"home-container--flavor",children:"*You haven't created any drinks"}):Object(u.jsx)(y,{drinkResults:o,user:t,refreshUser:r,gridName:"user-grid"})]}):void 0:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("p",{className:"home-container--flavor",children:"Welcome to Drinkdex! We have many delicious cocktail recipes from users around the world. No matter if you're looking for a classic cocktail, a punch for a party or an original concoction, we have a cocktail recipe for every taste and occasion, just a shake, stir or pour away."}),Object(u.jsx)("h3",{className:"home-container--title",children:"Get Started"}),Object(u.jsx)("p",{className:"home-container--flavor",children:"Lets get started! Use the bottom navigation bar to find drink recipes according to the type of drink or key ingedients. By signing up now you can save drinks to your profile and even post your own recipes for others to save and share!"}),Object(u.jsx)("button",{className:"home-container--btn",onClick:function(){return document.getElementById("authenticate-form").style.display="block",document.getElementById("authenticate-form-blur").style.display="block",void(document.getElementById("nav").style.display="none")},children:"Login/Sign Up"}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{})]})]})}),_=(n(26),function(e){var t=e.user,n=e.backHome,c=Object(a.useState)(""),r=Object(l.a)(c,2),i=r[0],d=r[1],j=Object(a.useState)(""),m=Object(l.a)(j,2),h=m[0],b=m[1],p=Object(a.useState)([]),f=Object(l.a)(p,2),g=f[0],O=f[1],x=Object(a.useState)(""),k=Object(l.a)(x,2),y=k[0],N=k[1],_=Object(a.useState)([""]),w=Object(l.a)(_,2),C=w[0],S=w[1],E=Object(a.useState)([]),F=Object(l.a)(E,2),B=F[0],I=F[1],D=Object(a.useState)(void 0),L=Object(l.a)(D,2),P=L[0],q=L[1],A=Object(a.useState)(""),U=Object(l.a)(A,2),T=U[0],R=U[1],J=function(e){d(e.target.value)},H=function(e){b(e.target.value)},Y=function(e){var t=e.target.value;t=t.replace(/[^A-Za-z]/gi,"").toLowerCase(),N(t)},M=function(e){g.length>5?document.getElementById("create-warning-ing").textContent="Please choose no more than 6 ingredients":(document.getElementById("create-warning-ing").textContent="",O([].concat(Object(v.a)(g),[e.target.id])),N(""))},z=function(e){var t=e.target.getAttribute("name");document.getElementById("create-warning-ing").textContent="",O(g.filter((function(e){return e!==t})))},X=function(e){document.getElementById("create-warning-ins").textContent="";var t=Object(v.a)(C),n=e.target.id;n=n.slice(4),t.splice(n,1,e.target.value),S(t)},G=function(){if(C.length>4)document.getElementById("create-warning-ins").textContent="Please keep instructions under 6 steps";else{var e=Object(v.a)(C);e.push(""),S(e)}},W=function(){document.getElementById("create-warning-ins").textContent="";var e=Object(v.a)(C);e.pop(),S(e)},Z=function(e){var t=Object(v.a)(B);if(e.target.checked)document.getElementById("".concat(e.target.id,"-label")).style.color="#FFFFFF",document.getElementById("".concat(e.target.id,"-label")).style.background="#00a8cc",t.push(e.target.value),I(t);else{document.getElementById("".concat(e.target.id,"-label")).style.color="#0c7b93",document.getElementById("".concat(e.target.id,"-label")).style.background="#FFFFFF";var n=t.filter((function(t){return t!==e.target.value}));I(n)}},V=function(e){q(document.getElementById("".concat(e.target.id)).files[0]);var t=document.getElementById("".concat(e.target.id)).files[0].name;document.getElementById("file-chosen").textContent="",R(t)},K={ingredients:["vodka","whiskey","tequila","gin","rum","lemon juice","lemon","triple sec","club soda","tonic water","mint","orange peel","sugar","simple syrup","orange juice","baileys","kahlua","campari","sweet vermouth","dry vermouth","bitters","honey","water","ginger","ginger beer","olive","cola","sprite","salt","grenadine","lime","ginger ale","fruit juice","lime juice","pineapple","pineapple juice","cranberry juice","absinthe","coffee liqueur","amaretto","chocolate liqueur","egg white","maple syrup","peach liqueur","sake","arak","tomato juice","soy sauce","tobasco sauce","hot sauce","ouzo","jagermeister","milk","coffee","tea","clove","midori","cinnamon","ice","banana liqueur","cream","red wine","white wine","sangria","port wine"],categories:["citrus","sweet","bitter","thick","strong","light","sour","fruity"]};function Q(){return(Q=Object(o.a)(s.a.mark((function e(n){var a,c,r,o,l,u,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),a=document.getElementById("auth-message"),g.length){e.next=5;break}return a.textContent="Drink must have at least one ingredient",e.abrupt("return");case 5:if(B.length){e.next=9;break}return a.textContent="Please choose at least one tag",e.abrupt("return");case 9:return e.prev=10,(c=new FormData).append("drinkImage",P),e.next=15,fetch("api/v1/images",{method:"post",body:c});case 15:return r=e.sent,e.next=18,r.json();case 18:return o=e.sent,l=function(){return r.ok?{name:i,description:h,ingredients:g,instructions:C,categories:B,createdBy:[t.username,t._id],coverImage:o.data.data.imagePath,imageId:o.data.data._id}:{name:i,description:h,ingredients:g,instructions:C,categories:B,createdBy:[t.username,t._id]}},e.next=22,fetch("api/v1/drinks",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(l())});case 22:return u=e.sent,e.next=25,u.json();case 25:"fail"===(d=e.sent).status||"error"===d.status?(console.log("Error"),d.message.includes("duplicate key error")&&(a.textContent="Drink name is already taken")):(a.textContent="Drink created!",window.location.reload()),e.next=32;break;case 29:e.prev=29,e.t0=e.catch(10),console.log("Uncaught error occured");case 32:case"end":return e.stop()}}),e,null,[[10,29]])})))).apply(this,arguments)}return Object(u.jsxs)("div",{className:"create",id:"create-form",children:[Object(u.jsx)("span",{className:"create--close",onClick:function(){return n()},children:"X"}),Object(u.jsx)("h3",{className:"create--head-title",children:""===i?"Drink Name":i}),Object(u.jsx)("section",{className:"create__container",children:Object(u.jsxs)("form",{className:"create__form",id:"drink-form",encType:"mutlipart/form-data",onSubmit:function(e){return function(e){return Q.apply(this,arguments)}(e)},children:[Object(u.jsx)("h4",{className:"create--title",children:"Overview"}),Object(u.jsx)("input",{required:!0,className:"create--input",type:"text",id:"create-name",value:i,pattern:"([A-z0-9\xc0-\u017e\\s]){2,15}",maxLength:"15",onChange:function(e){return J(e)},placeholder:"Give your drink a name"}),Object(u.jsx)("label",{className:"create--label",htmlFor:"create-name",children:"Drink Name"}),Object(u.jsxs)("div",{className:"create__ta-container",children:[Object(u.jsx)("textarea",{required:!0,className:"create--ta-container--textarea",rows:"3",minLength:"4",maxLength:"200",id:"create-summary",value:h,onChange:function(e){return H(e)},placeholder:"Describe your drink"}),Object(u.jsx)("label",{className:"create--ta-container__label",id:"summary-label",htmlFor:"create-summary",children:"Summary"})]}),Object(u.jsx)("h4",{className:"create--title",children:"Ingredients"}),function(){var e=K.ingredients.filter((function(e){var t=e.includes(y),n=g.includes(e);if(!0===t&&!1===n)return e}));return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("input",{className:"create--search-input",type:"text",onChange:function(e){return Y(e)},value:y,placeholder:"Search for ingredients"}),Object(u.jsx)("ul",{className:"create__search",id:"ing-search",children:0===y.length?Object(u.jsx)(u.Fragment,{}):e.map((function(e,t){return Object(u.jsxs)("div",{className:"create__result",children:[Object(u.jsx)("li",{children:e},"results-text-".concat(t)),Object(u.jsx)("img",{id:e,src:"images/icons/plus.svg",alt:"add ingredient button",onClick:function(e){return M(e)}},"results-btn-".concat(t))]},"results-".concat(t))}))})]})}(),0===g.length?Object(u.jsx)(u.Fragment,{}):Object(u.jsx)("div",{className:"create__ing-container",children:0===g.length?Object(u.jsx)(u.Fragment,{}):g.map((function(e,t){return Object(u.jsx)("div",{className:"create__ing-container--ing",children:Object(u.jsx)("span",{name:e,onClick:function(e){return z(e)},children:e},"add-ing-".concat(t,"-span"))},"add-ing-".concat(t))}))}),Object(u.jsx)("span",{className:"create--message",id:"create-warning-ing"}),Object(u.jsx)("h4",{className:"create--title",children:"Instructions"}),C.map((function(e,t){return Object(u.jsxs)("div",{className:"create__instruction",id:"instruction-".concat(t),children:[Object(u.jsx)("textarea",{required:!0,rows:"3",placeholder:"Step ".concat(t+1),value:C[t],minLength:"4",maxLength:"80",onChange:function(e){return X(e)},id:"ins-".concat(t)}),t===C.length-1?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("img",{src:"images/icons/plus.svg",alt:"add instructions button",onClick:function(){return G()}}),t>0?Object(u.jsx)("span",{onClick:function(){return W()},children:"x"}):Object(u.jsx)(u.Fragment,{})]}):Object(u.jsx)(u.Fragment,{})]},"instruction-".concat(t))})),Object(u.jsx)("span",{className:"create--message",id:"create-warning-ins"}),Object(u.jsx)("h4",{className:"create--title",children:"Tags"}),Object(u.jsx)("section",{className:"create__categories",children:K.categories.map((function(e,t){return Object(u.jsxs)("div",{className:"check-el",children:[Object(u.jsx)("input",{type:"checkbox",className:"create__categories__checkbox checkbox-part",id:"check-".concat(e),value:e,onChange:function(e){return Z(e)}}),Object(u.jsx)("label",{htmlFor:"check-".concat(e),id:"check-".concat(e,"-label"),children:e})]},"tag-".concat(e,"-").concat(t))}))}),Object(u.jsx)("h4",{className:"create--title",children:"Image"}),Object(u.jsxs)("div",{className:"create--upload-container",children:[Object(u.jsx)("input",{className:"create--upload",type:"file",id:"drink-upload",onChange:function(e){return V(e)},name:"drink-upload",accept:"image/png, image/jpeg"}),Object(u.jsx)("label",{className:"create--upload-label",htmlFor:"drink-upload",children:Object(u.jsx)("img",{className:"create--upload-icon",src:"images/icons/upload.svg",alt:"upload file icon"})}),Object(u.jsx)("input",{required:!0,className:"create--url",type:"text",placeholder:"url",id:"drink-upload-url",value:T,readOnly:!0})]}),Object(u.jsx)("span",{className:"create--file-chosen",id:"file-chosen",children:"No file chosen"}),Object(u.jsx)("input",{className:"create--btn",type:"submit",form:"drink-form",value:"Create Drink"}),Object(u.jsx)("span",{className:"create--auth-message",id:"auth-message"})]})})]})}),w=(n(27),function(e){var t=e.navState,n=e.toggleToGrid,c=e.backHome,r=e.user,i=Object(a.useState)(void 0),s=Object(l.a)(i,2),o=s[0],d=s[1];Object(a.useEffect)((function(){!0===t.categories?d("categories"):!0===t.spirits?d("spirits"):!0===t.create?d("create"):d(void 0)}),[t]);return Object(u.jsx)("section",{className:"options-container",children:"categories"===o?Object(u.jsxs)("ul",{className:"options-container__list",children:[Object(u.jsx)("li",{id:"citrus",onClick:function(e){return n(e)},children:"citrus"}),Object(u.jsx)("li",{id:"sweet",onClick:function(e){return n(e)},children:"sweet"}),Object(u.jsx)("li",{id:"bitter",onClick:function(e){return n(e)},children:"bitter"}),Object(u.jsx)("li",{id:"thick",onClick:function(e){return n(e)},children:"thick"}),Object(u.jsx)("li",{id:"strong",onClick:function(e){return n(e)},children:"strong"}),Object(u.jsx)("li",{id:"light",onClick:function(e){return n(e)},children:"light"})]}):"spirits"===o?Object(u.jsxs)("ul",{className:"options-container__list",children:[Object(u.jsx)("li",{id:"vodka",onClick:function(e){return n(e)},children:"vodka"}),Object(u.jsx)("li",{id:"gin",onClick:function(e){return n(e)},children:"gin"}),Object(u.jsx)("li",{id:"tequila",onClick:function(e){return n(e)},children:"tequila"}),Object(u.jsx)("li",{id:"whiskey",onClick:function(e){return n(e)},children:"whiskey"}),Object(u.jsx)("li",{id:"rum",onClick:function(e){return n(e)},children:"rum"})]}):"create"===o?Object(u.jsx)(_,{user:r,backHome:c}):Object(u.jsx)(p,{})})}),C=(n(28),function(e){var t=e.openOption,n=e.user,a=function(){return void 0!==n?"active":"inactive"};return Object(u.jsxs)("nav",{className:"navbar",id:"nav",children:[Object(u.jsxs)("div",{className:"navbar__option",children:[Object(u.jsx)("img",{className:"navbar__option--icon",id:"btn-categories",onClick:function(e){return t(e)},src:"images/icons/cocktail.svg",alt:"drink categories"}),Object(u.jsx)("span",{className:"navbar__option--label",htmlFor:"btn-categories",children:"Categories"})]}),Object(u.jsxs)("div",{className:"navbar__option",children:[Object(u.jsx)("img",{className:"navbar__option--icon",id:"btn-spirits",onClick:function(e){return t(e)},src:"images/icons/glass.svg",alt:"drink spirits"}),Object(u.jsx)("span",{className:"navbar__option--label",htmlFor:"btn-spirits",children:"Spirits"})]}),Object(u.jsxs)("div",{className:"navbar__option",children:[Object(u.jsx)("img",{className:"navbar__option--icon ".concat(a()),id:"btn-create",onClick:function(e){return t(e)},src:n?"images/icons/recipe.svg":"images/icons/recipe-disabled.svg",alt:"crete a new drink"}),Object(u.jsx)("span",{className:"navbar__option--label ".concat(a()),htmlFor:"btn-create",children:"Create"})]})]})}),S=function(){var e=Object(a.useState)(void 0),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!0),i=Object(l.a)(r,2),j=i[0],m=i[1],h=Object(a.useState)(!1),b=Object(l.a)(h,2),g=b[0],O=b[1];function v(){return x.apply(this,arguments)}function x(){return(x=Object(o.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("/api/v1/users/me",{credentials:"same-origin"}).then((function(e){return e.ok?e.json():e})).then((function(e){"success"===e.status?c(e.data.data):c(void 0),O("success"===e.status)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){fetch("/api/v1/users/me",{credentials:"same-origin"}).then((function(e){return e.ok?e.json():e})).then((function(e){"success"===e.status?c(e.data.data):c(void 0),O("success"===e.status)})).then((function(){setTimeout((function(){m(!1)}),800)}))}),[]);var k=Object(a.useState)([]),_=Object(l.a)(k,2),S=_[0],E=_[1],F=Object(a.useState)(void 0),B=Object(l.a)(F,2),I=B[0],D=B[1];Object(a.useEffect)((function(){fetch("/api/v1/drinks").then((function(e){return e.json()})).then((function(e){return e.data.data})).then((function(e){E(e);var t=Math.floor(Math.random()*e.length);return fetch("/api/v1/drinks/".concat(e[t].id))})).then((function(e){return e.json()})).then((function(e){return D(e.data.data)}))}),[]);var L=Object(a.useState)([]),P=Object(l.a)(L,2),q=P[0],A=P[1],U=Object(a.useState)(!1),T=Object(l.a)(U,2),R=T[0],J=T[1];function H(e){var t=e.target.id,n=[];"vodka"!==t&&"gin"!==t&&"tequila"!==t&&"whiskey"!==t&&"rum"!==t||(J(!0),X({categories:!1,spirits:!1,create:!1}),S.forEach((function(e){e.spirits.includes(t)&&n.push(e)}))),"citrus"!==t&&"sweet"!==t&&"bitter"!==t&&"thick"!==t&&"strong"!==t&&"light"!==t||(J(!0),X({categories:!1,spirits:!1,create:!1}),S.forEach((function(e){e.categories.includes(t)&&n.push(e)}))),A(n)}var Y=Object(a.useState)({categories:!1,spirits:!1,create:!1}),M=Object(l.a)(Y,2),z=M[0],X=M[1];function G(e){var t=e.target.id;if(document.querySelector(".cardfull").style.display="none","btn-categories"===t){if(!0===z.categories)return X({categories:!1,spirits:!1,create:!1});X({categories:!0,spirits:!1,create:!1})}else if("btn-spirits"===t){if(!0===z.spirits)return X({categories:!1,spirits:!1,create:!1});X({categories:!1,spirits:!0,create:!1})}else if("btn-create"===t){if(!0===z.create)return X({categories:!1,spirits:!1,create:!1});X({categories:!1,spirits:!1,create:!0})}}function W(e){var t=e.target.id;document.getElementById("".concat(t,"-full")).style.display="flex"}function Z(){X({categories:!1,spirits:!1,create:!1}),J(!1)}return j?Object(u.jsx)(d,{}):Object(u.jsxs)("main",{children:[Object(u.jsx)(f,{loggedStatus:g,user:n,drinks:S,backHome:Z}),!1===R?Object(u.jsx)(N,{randomDrink:I,drinks:S,user:n,openCard:W,refreshUser:v}):Object(u.jsx)(y,{drinkResults:q,user:n,openCard:W,refreshUser:v,gridName:"drink-grid"}),!1===z.categories&&!1===z.spirits&&!1===z.create?Object(u.jsx)(p,{}):Object(u.jsx)(w,{navState:z,toggleToGrid:H,backHome:Z,user:n}),Object(u.jsx)(C,{openOption:G,user:n})]})};r.a.render(Object(u.jsx)(S,{}),document.querySelector("#root"))}],[[29,1,2]]]);
//# sourceMappingURL=main.01559c04.chunk.js.map